<!DOCTYPE html>
<html>

  <head>
    <title>Open Layer 4</title>
    <link rel="stylesheet" href="https://openlayers.org/en/v4.5.0/css/ol.css" type="text/css">
	  <link rel="stylesheet" href="src/ol3-layerswitcher.css" />
	  <link rel="stylesheet" href="src/layerswitcher.css" />
    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.5.0/build/ol.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.0.1/ol.js"></script>
	  <script src="src/ol3-layerswitcher.js"></script>
	
  </head>
  
  <body>
    <div id="map" class="map"></div>
    <div id="mouse-position"></div>
	
    <form>
      <label>Projection </label>
      <select id="projection">
        <option value="EPSG:4326">EPSG:4326</option>
        <option value="EPSG:3857">EPSG:3857</option>
      </select>
      <label>Precision </label>
      <input id="precision" type="number" min="0" max="12" value="4"/>
    </form>
	<p>Use Alt+Shift+Drag to rotate the map</p>
	
    <script>
		
		var controls = [
			new ol.control.ScaleLine(),
			new ol.control.ZoomSlider(),
			//new ol.control.ZoomToExtent()
			new ol.control.FullScreen(),
			new ol.control.LayerSwitcher(),
			new ol.control.Rotate({
				autoHide: false
			}),
			new ol.control.MousePosition({
				undefinedHTML: 'outside',
				projection: 'EPSG:4326',
				coordinateFormat: function(coord){
					return ol.coordinate.format(coord, '{x},{y}',2);
				}
			})
		];
		
		var overlayGroup = new ol.layer.Group({
        title: 'Overlays',
        layers: [
		
        ]
		});
		
		var layers = [
			new ol.layer.Tile({
                source: new ol.source.OSM()
            }),
			new ol.layer.Image({
                source: new ol.source.ImageWMS({
					url: 'http://www.idee.es/wms/MTN-Raster/MTN-Raster', //Dienst
					ratio: 1,
					params: {
						'LAYERS': 'mtn_rasterizado',
						'TRANSPARENT': 'true',
						'STYLE': ''							 
					}
				})
            }),
            new ol.layer.Image({
                source: new ol.source.ImageWMS({
				url: 'http://rcmap-test.rc.e-ssi.net:8081/geoserver/Postgres/wms',
                    ratio: 1,
                    params: {
                        'LAYERS': 'Postgres:v_vg250_bld',							
                        'TRANSPARENT': 'true',
						'STYLE': ''							 
                    }
                })
            }),
			new ol.layer.Image({
                source: new ol.source.ImageWMS({
                    url: 'http://rcmap-test.rc.e-ssi.net:8081/geoserver/Postgres/wms',
                    ratio: 1,
                    params: {
						'LAYERS': 'Postgres:v_vg250_krs',								
                        //'TRANSPARENT': 'true'	
                    }
                })
            }),
			new ol.layer.Image({
                source: new ol.source.ImageWMS({
                    url: 'http://rcmap-test.rc.e-ssi.net:8081/geoserver/Postgres/wms',
                    ratio: 1,
                    params: {
						'LAYERS': 'Postgres:v_vg250_gem',								
                        //'TRANSPARENT': 'true'	
                    }
                })
            }),
			overlayGroup
		];
		
        var mapImage = new ol.Map({
            target: 'map',  
            renderer: 'canvas', // Force the renderer to be used
			controls: ol.control.defaults().extend(controls),
            layers: layers,
            view: new ol.View({
                center: ol.proj.transform([11.63, 52.12], 'EPSG:4326', 'EPSG:3857'),
                zoom: 6
				//projection: 'EPSG:3857'
            })
        });
	
	  
    </script>
  </body>
</html>
